(self.webpackChunk=self.webpackChunk||[]).push([[594],{73100:function(e,n,t){"use strict";function r(e,n){return{name:e.name.trim(),description:e.description.trim(),eventDate:e.eventDate?new Date(e.eventDate).toISOString():null,isPaymentRequired:e.isPaymentRequired,isTasksListRequired:e.isTasksListRequired,neighborhood_id:e.neighborhood_id,participants:e.isAllMembersInvited?n.map((function(e){return e})):e.participants,paymentAmount:e.isPaymentRequired?e.paymentAmount.trim():null,tasksList:e.isTasksListRequired?e.tasksList.map((function(e){return e.text})):null}}function a(e,n,t,r){var a,i=null===(a=t.find((function(e){return e.participant_id===r})))||void 0===a?void 0:a.payment,o=n-i;return[Math.round(o/e*100),Math.round(i/e*100),i]}function i(e){return{description:e.description.trim(),name:e.name.trim(),paymentAmount:e.paymentAmount.trim()?e.paymentAmount:null,eventDate:e.eventDate?new Date(e.eventDate).toISOString():null}}t.d(n,{aA:function(){return i},h3:function(){return r},o7:function(){return a}})},45594:function(e,n,t){"use strict";t.r(n);var r=t(64649),a=t(65809),i=t(27378),o=t(14935),l=t(65783),s=t(12693),c=t(88922),m=t(48646),u=t(91665),d=t(33047),p=t(12284),f=t(26904),g=t(78608),v=t(95468),A=t(73100),b=t(25951),h=t.n(b);function x(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function y(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?x(Object(t),!0).forEach((function(n){(0,r.Z)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):x(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}n.default=function(){var e,n,t,b,x,P,C,E,B=(0,o.UO)().planId,O=(0,s.C)((function(e){return e.plans.entities[B]})),k=(0,l.lr)(),$=(0,a.Z)(k,1)[0].get("neighborhood_id"),w=(0,i.useState)({paymentAmount:null!=O&&O.paymentAmount?O.paymentAmount.toString():"",description:(null==O?void 0:O.description)||"",name:(null==O?void 0:O.name)||"",errors:{},eventDate:null!=O&&O.eventDate?new Date(O.eventDate):null}),D=(0,a.Z)(w,2),j=D[0],T=D[1],_=(0,i.useState)(!1),F=(0,a.Z)(_,2),L=F[0],N=F[1],q=(0,o.s0)(),W=(0,s.T)(),S=(0,c.$G)().t;(0,i.useEffect)((function(){B&&O||q("/plans".concat($?"?neighborhood_id=".concat($):""))}),[]);var R=(0,i.useCallback)((function(e){var n=e.target,t=n.name,a=n.value;T((function(e){var n=y(y({},e),{},(0,r.Z)({},t,a));return y(y({},n),{},{errors:(0,g.tR)(n,O)})}))}),[]);return i.createElement("div",{className:h().EditPlanPageWrapper},i.createElement("div",{className:h().EditPlanFormWrapper},i.createElement("div",{className:h().EditPlanTitleWrapper},i.createElement("div",{className:h().EditPlanBack},i.createElement(m.Z,null)),i.createElement("h3",{className:h().EditPlanTitle},S("editPlan"))),i.createElement("form",{className:h().EditPlanForm},i.createElement("div",{className:"mb-16"},i.createElement(u.Z,{label:"".concat(S("dateOfEvent")," (").concat(S("optionalSmall"),")"),value:j.eventDate,onChange:R,name:"eventDate",isInvalid:Boolean(null===(e=j.errors)||void 0===e?void 0:e.eventDate),error:null===(n=j.errors)||void 0===n?void 0:n.eventDate,placeholder:S("selectDate")})),(null==O?void 0:O.isPaymentRequired)&&i.createElement("div",{className:"mb-16"},i.createElement(d.Z,{onChange:R,value:j.paymentAmount,name:"paymentAmount",label:S("paymentAmount"),placeholder:S("enterAmount"),error:null===(t=j.errors)||void 0===t?void 0:t.paymentAmount,isInvalid:Boolean(null===(b=j.errors)||void 0===b?void 0:b.paymentAmount)})),i.createElement("div",{className:"mb-16"},i.createElement(d.Z,{onChange:R,value:j.name,name:"name",label:S("planName"),placeholder:S("enterName"),error:null===(x=j.errors)||void 0===x?void 0:x.name,isInvalid:Boolean(null===(P=j.errors)||void 0===P?void 0:P.name)})),i.createElement("div",{className:"mb-32"},i.createElement(p.Z,{onChange:R,value:j.description,name:"text",label:S("text"),placeholder:S("enterText"),error:null===(C=j.errors)||void 0===C?void 0:C.description,isInvalid:Boolean(null===(E=j.errors)||void 0===E?void 0:E.description)})),i.createElement("div",{className:"mb-16"},i.createElement(f.Z,{onClick:function(e){if(e.preventDefault(),!Object.values(j.errors).length){N(!0);var n=(0,A.aA)(j);W((0,v.MM)({id:B,values:n})).then((function(){q("/plans".concat($?"?neighborhood_id=".concat($):""))})).finally((function(){N(!1)}))}},text:S("edit"),disabled:Boolean(Object.values(j.errors).length)||L})))))}},78608:function(e,n,t){"use strict";t.d(n,{kR:function(){return p},rM:function(){return f},tR:function(){return g}});var r=t(64649),a=t(22501),i=t(67226),o=t(30298);function l(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function s(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?l(Object(t),!0).forEach((function(n){(0,r.Z)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):l(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}var c=a.ZP.t;function m(e){var n={},t=e.trim();return""===t?(n.name=c("requiredField"),n):o.bo.test(t)?t.length<i.n.minName?(n.name=c("atLeast",{value:i.n.minName}),n):t.length>i.n.maxName?(n.name=c("lessThan",{value:i.n.maxName}),n):n:(n.name=c("incorrectValue"),n)}function u(e){var n={},t=e.trim();return""===t?(n.description=c("requiredField"),n):o.bo.test(t)?t.length<i.n.minDescription?(n.description=c("atLeast",{value:i.n.minDescription}),n):t.length>i.n.maxDescription?(n.description=c("lessThan",{value:i.n.maxDescription}),n):n:(n.description=c("incorrectValue"),n)}function d(e){var n={};if(e){var t=new Date;if(t.setFullYear(t.getFullYear()+1),e>t)return n.eventDate=c("maxPlanPeriod"),n}return n}function p(e){var n="",t=e.trim();return t.length<i.n.minTask?n=c("atLeast",{value:i.n.minTask}):t.length>i.n.maxTask?n=c("lessThan",{value:i.n.maxTask}):n}function f(e){var n=m(e.name),t=u(e.description),r=d(e.eventDate),a=function(e){var n={};return""===e.trim()?(n.neighborhood_id=c("requiredField"),n):n}(e.neighborhood_id),l=s(s(s(s({},n),t),r),a);return e.isAllMembersInvited||Object.assign(l,function(e){var n={};return e.length<i.n.minParticipantsLength&&(n.participants=c("atLeastOneParticipant")),n}(e.participants)),e.isPaymentRequired&&Object.assign(l,function(e){var n={};if(!e)return n.paymentAmount=c("requiredField"),n;var t=parseFloat(e);return o.AK.test(e)?t>i.n.maxAmount?(n.paymentAmount=c("lessThanNumber",{value:i.n.maxAmount}),n):t<i.n.minAmount?(n.paymentAmount=c("atLeastNumber",{value:i.n.minAmount}),n):n:(n.paymentAmount=c("onlyNumbers"),n)}(e.paymentAmount)),e.isTasksListRequired&&Object.assign(l,function(e){var n={};return e.length<i.n.minTasksLength&&(n.tasksList=c("atLeastOneTask")),n}(e.tasksList)),s({},l)}function g(e,n){var t=m(e.name),r=u(e.description),a=d(e.eventDate),l=s(s(s({},t),r),a);return n.isPaymentRequired&&Object.assign(l,function(e,n){var t={};if(!e)return t.paymentAmount=c("requiredField"),t;var r=parseFloat(e);return o.AK.test(e)?(r<n&&(t.paymentAmount=c("newPlanAmountSmallerError")),r>i.n.maxAmount?(t.paymentAmount=c("lessThanNumber",{value:i.n.maxAmount}),t):r<i.n.minAmount?(t.paymentAmount=c("atLeastNumber",{value:i.n.minAmount}),t):t):(t.paymentAmount=c("onlyNumbers"),t)}(e.paymentAmount,n.currentPayment)),s({},l)}},97866:function(e,n,t){"use strict";t.r(n);var r=t(20559),a=t.n(r),i=t(93476),o=t.n(i)()(a());o.push([e.id,'.EditPlanPageWrapper_A4v5L{display:flex;justify-content:center}.EditPlanFormWrapper_qoybY{margin-top:30px;width:100%;max-width:420px}.EditPlanBack_PQVU8{position:absolute;grid-area:link}.EditPlanTitleWrapper_O5oPT{width:100%;display:grid;align-items:center;grid-template-areas:"link title .";grid-template-columns:minmax(100px, 1fr) auto minmax(100px, 1fr);margin-bottom:30px}.EditPlanTitle_LLeaJ{font-size:32px;font-weight:700;line-height:24px;color:#0f0f10;align-self:center;font-size:22px;grid-area:title;margin:0;flex-grow:1;color:#485268}.EditPlanForm_pIB1U{padding:30px 20px;background-color:#fff;border-radius:5px}\n',"",{version:3,sources:["webpack://./pages/EditPlanPage/EditPlanPage.module.scss","webpack://./styles/_mixins.scss","webpack://./styles/_variables.scss"],names:[],mappings:"AAEA,2BACE,YAAa,CACb,sBAAuB,CACxB,2BAGC,eAAgB,CAChB,UAAW,CACX,eAAgB,CACjB,oBAGC,iBAAkB,CAClB,cAAe,CAChB,4BAGC,UAAW,CACX,YAAa,CACb,kBAAmB,CACnB,kCAAmC,CACnC,gEAA+D,CAC/D,kBAAmB,CACpB,qBCJC,cAAe,CACf,eAAgB,CAChB,gBAAiB,CACjB,aCFwB,CFOxB,iBAAkB,CAClB,cAAe,CACf,eAAgB,CAChB,QAAS,CACT,WAAY,CACZ,aEX8B,CFY/B,oBAGC,iBAAkB,CAClB,qBEhCoB,CFiCpB,iBEHiB",sourcesContent:['@import "@src/styles/mixins";\n\n.EditPlanPageWrapper {\n  display: flex;\n  justify-content: center;\n}\n\n.EditPlanFormWrapper {\n  margin-top: 30px;\n  width: 100%;\n  max-width: 420px;\n}\n\n.EditPlanBack {\n  position: absolute;\n  grid-area: link;\n}\n\n.EditPlanTitleWrapper {\n  width: 100%;\n  display: grid;\n  align-items: center;\n  grid-template-areas: "link title .";\n  grid-template-columns: minmax(100px,1fr) auto minmax(100px,1fr);\n  margin-bottom: 30px;\n}\n\n.EditPlanTitle {\n  @include title;\n  align-self: center;\n  font-size: 22px;\n  grid-area: title;\n  margin: 0;\n  flex-grow: 1;\n  color: $title-light-text-color;\n}\n\n.EditPlanForm {\n  padding: 30px 20px;\n  background-color: $component-bg;\n  border-radius: $border-radius;\n}\n\n','@import "variables";\r\n\r\n@mixin for-tablet {\r\n  @media screen and (min-width: 744px) {\r\n    @content;\r\n  }\r\n}\r\n\r\n@mixin for-laptop {\r\n  @media screen and (min-width: 1044px) {\r\n    @content;\r\n  }\r\n}\r\n\r\n@mixin for-desktop {\r\n  @media screen and (min-width: 1260px) {\r\n    @content;\r\n  }\r\n}\r\n\r\n@mixin title {\r\n  font-size: 32px;\r\n  font-weight: 700;\r\n  line-height: 24px;\r\n  color: $title-text-color;\r\n}\r\n\r\n@mixin container {\r\n  max-width: 1220px;\r\n  margin: 0 auto;\r\n  padding: 0 10px;\r\n}\r\n',"$body-color: #fff;\r\n$content-color: #f5f6fa;\r\n$content-color-hover: #fbfbfb;\r\n$background-color-text-field: #e8f0fe;\r\n$light-field-hover: #f7f8fb;\r\n$light-bg-color: #eeeff3;\r\n$disabled-text-field: #e9eaef;\r\n$component-bg: #ffffff;\r\n$chat-bg: #fafbfd;\r\n$primary-color: #2C9E95;\r\n$primary-color-disabled: #74a9a5;\r\n$primary-color-active: #45a29a;\r\n$primary-color-hover: #278981;\r\n$primary-color-light: #ecfffe;\r\n$primary-color-light-hover: #c5fffd;\r\n$border-color: #dee2ed;\r\n$border-color-hover: #dee2ed;\r\n$border-color-active: #8b93a6;\r\n$bright-text-color: #626264;\r\n$light-text-color: #bfc5d1;\r\n$text-color: #333a4a;\r\n$dark-text-color: #18181a;\r\n$title-text-color: #0f0f10;\r\n$title-light-text-color: #485268;\r\n$reverse-text-color: #fff;\r\n$danger-color: #f14f4f;\r\n$danger-color-hover: #d74242;\r\n$danger-color-transparent: rgba(241, 79, 79, 0.25);\r\n$success-color: #72b274;\r\n$success-color-transparent: rgba(114, 178, 116, 0.25);\r\n$info-color: #ea9f40;\r\n$info-color-transparent: rgba(234, 159, 64, 0.25);\r\n$font-family: 'Manrope', sans-serif;\r\n$modal-bg: rgba(72,82,104,.6);\r\n$box-shadow: rgba(0, 0, 0, 0.10) 0px 20px 40px 0px;\r\n$light-box-shadow: 0 0 5px rgba(0, 0, 0, 0.15);\r\n\r\n$border-radius: 5px;\r\n\r\n$header-height: 60px;\r\n$sidebar-width: 80px;\r\n$page-controls-height: 72px;\r\n"],sourceRoot:""}]),o.locals={EditPlanPageWrapper:"EditPlanPageWrapper_A4v5L",EditPlanFormWrapper:"EditPlanFormWrapper_qoybY",EditPlanBack:"EditPlanBack_PQVU8",EditPlanTitleWrapper:"EditPlanTitleWrapper_O5oPT",EditPlanTitle:"EditPlanTitle_LLeaJ",EditPlanForm:"EditPlanForm_pIB1U"},n.default=o},25951:function(e,n,t){var r=t(1892),a=t(95760),i=t(38311),o=t(58192),l=t(38060),s=t(54865),c=t(97866);c=c.__esModule?c.default:c;var m={};m.styleTagTransform=s,m.setAttributes=o,m.insert=i.bind(null,"head"),m.domAPI=a,m.insertStyleElement=l,r(c,m),e.exports=c&&c.locals||{}}}]);
//# sourceMappingURL=594.js.map